"use strict";

var _interopRequireDefault = require("@babel/runtime/helpers/interopRequireDefault");

exports.__esModule = true;
exports.default = action;

var _extends2 = _interopRequireDefault(require("@babel/runtime/helpers/extends"));

function action(target, key, descriptor) {
  var actionName = "".concat(target.table, ".").concat(key);
  return (0, _extends2.default)({}, descriptor, {
    value: function value(...args) {
      var _this = this;

      return this.database.action(function () {
        return descriptor.value.apply(_this, args);
      }, actionName);
    }
  });
}